
/* =========================================================
   LIBRARY — SOL SIDEBAR ZORLA GÖSTER (Studio/Hook bu yüzden "yok")
   ========================================================= */

/* 1) Library layout: 3 kolon (sol / orta / sağ) */
@media (min-width: 900px){
  .page-library .layout{
    display: grid !important;
    grid-template-columns: 260px 1fr 340px !important; /* sağ panel yoksa 0 yapabiliriz */
    gap: 18px !important;
    align-items: start;
  }
}

/* 2) Sidebar: gizlenmişse bile aç */
.page-library .sidebar{
  display: flex !important;
  flex-direction: column !important;
  width: 260px !important;
  min-width: 260px !important;
  visibility: visible !important;
  opacity: 1 !important;
  transform: none !important;
  pointer-events: auto !important;

  /* player bar alttan örtmesin */
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 140px !important;

  /* bazen arka plan/katmanlar üstüne biner */
  position: sticky;
  top: 12px;
  z-index: 50;
}

/* 3) AI Üret kutusu satır kırpmasın */
.page-library .sidebar .sidebar-section--ai{
  height: auto !important;
  max-height: none !important;
  overflow: visible !important;
}
/* =========================================================
   SIDEBAR SWITCH — sadece aktif sayfanın sidebar'ı görünsün
   ========================================================= */

[data-sidebar]{
  display: none;
}

body[data-active-page="library"] [data-sidebar="library"]{ display:flex; }
body[data-active-page="music"] [data-sidebar="music"]{ display:flex; }
body[data-active-page="cover"] [data-sidebar="cover"]{ display:flex; }
body[data-active-page="studio"] [data-sidebar="studio"]{ display:flex; }
body[data-active-page="sm-pack"] [data-sidebar="sm-pack"]{ display:flex; }
body[data-active-page="viral-hook"] [data-sidebar="viral-hook"]{ display:flex; }
body[data-active-page="dashboard"] [data-sidebar="dashboard"]{ display:flex; }
body[data-active-page="invoices"] [data-sidebar="invoices"]{ display:flex; }
body[data-active-page="profile"] [data-sidebar="profile"]{ display:flex; }
body[data-active-page="settings"] [data-sidebar="settings"]{ display:flex; }

/* fallback */
body:not([data-active-page]) [data-sidebar="dashboard"]{ display:flex; }

/* =========================================================
   FIX: Library sidebar AI Üret butonları görünmüyor
   - DOM’da var (6 adet) ama CSS kırpıyor / gizliyor
   - Bu blok Library’de AI Üret alanını kesin görünür yapar
   ========================================================= */

body[data-active-page="library"] .page-library[data-page="library"] .sidebar{
  /* sidebar içinde kırpılma varsa engelle */
  overflow: auto !important;
}

body[data-active-page="library"] .page-library[data-page="library"] .sidebar-section--ai{
  /* en kritik kısım: sabit height/overflow yüzünden satırlar kesiliyor */
  height: auto !important;
  max-height: none !important;
  overflow: visible !important;
}

body[data-active-page="library"] .page-library[data-page="library"] .sidebar-section--ai .sidebar-link{
  /* görünürlüğü garanti et */
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
}
