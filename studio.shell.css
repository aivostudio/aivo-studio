/* =========================================================
   STUDIO V2 — SHELL (CLEAN)
   Hedef: 3 kolon (sol menü / orta / sağ), sadece içerikler scroll,
   sticky topbar ile uyumlu, çakışmasız.
   ========================================================= */

:root{
  --topbar-h: 72px;
  --gap: 18px;

  --left-w: 240px;
  --center-w: 720px;
  --right-w: 360px;

  --radius: 22px;
}

/* page base */
html, body{ height: 100%; }
body{
  margin: 0;
  overflow: hidden;           /* dışarıda scroll yok */
}

/* topbar sabitse */
#topbarMount.aivo-topbar{
  position: fixed;
  top: 0; left: 0; right: 0;
  height: var(--topbar-h);
  z-index: 1000;
}

/* ana kabuk */
#studioRoot.studioShell{
  height: 100vh;
  padding-top: var(--topbar-h);

  display: grid;
  grid-template-columns: var(--left-w) minmax(0, var(--center-w)) var(--right-w);
  gap: var(--gap);

  padding-left: var(--gap);
  padding-right: var(--gap);
  padding-bottom: var(--gap);

  align-items: stretch;
  box-sizing: border-box;
}

/* kolonda min-height zinciri */
#leftMenu,
#moduleHost,
#rightPanelHost{
  min-width: 0;
  min-height: 0;
}

/* SOL MENÜ */
#leftMenu.studioNav{
  position: sticky;
  top: var(--topbar-h);
  height: calc(100vh - var(--topbar-h) - var(--gap));
  overflow: auto;

  border-radius: var(--radius);
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.06);
  padding: 10px;
}

/* ORTA (module host) */
#moduleHost{
  height: calc(100vh - var(--topbar-h) - var(--gap));
  overflow: auto;

  border-radius: var(--radius);
  padding: 18px;

  background: radial-gradient(1200px 800px at 30% 0%,
    rgba(140,80,255,.35),
    rgba(70,50,140,.25),
    rgba(20,18,40,.35)
  );
  border: 1px solid rgba(255,255,255,.07);
}

/* SAĞ (outputs) */
#rightPanelHost{
  height: calc(100vh - var(--topbar-h) - var(--gap));
  overflow: hidden;

  border-radius: var(--radius);
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.07);

  display: flex;
  flex-direction: column;
  padding: 16px;
}

/* sağ panelin içinde scroll olacak alan */
#rightPanelHost .rp-scroll,
#rightPanelHost .outputsList,
#rightPanelHost .outputsScroll{
  flex: 1 1 auto;
  min-height: 0;
  overflow: auto;
}

/* responsive */
@media (max-width: 1200px){
  body{ overflow: auto; }

  #studioRoot.studioShell{
    height: auto;
    grid-template-columns: 1fr;
    padding-top: var(--topbar-h);
  }

  #leftMenu.studioNav,
  #moduleHost,
  #rightPanelHost{
    height: auto;
    overflow: visible;
  }

  #rightPanelHost .rp-scroll,
  #rightPanelHost .outputsList,
  #rightPanelHost .outputsScroll{
    overflow: visible;
  }
}
