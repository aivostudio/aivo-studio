/* =========================================================
   STUDIO V2 ‚Äî SHELL LAYOUT
   Ama√ß: 3 kolon + sadece rightPanel scroll + min-height:0 zinciri
   ========================================================= */

html, body {
  height: 100%;
  overflow: hidden;
}

#studioRoot,
#studioShell,
#studioLayout {
  height: 100%;
  min-height: 0;
}

#leftMenu,
#moduleHost,
#rightPanelHost {
  min-height: 0;
  min-width: 0;
}

#studioLayout,
#studioRoot .studioTwoPanel,
#studioRoot .studioLayout,
#studioRoot .studioGrid {
  display: flex;
  gap: 22px;
  padding: 18px;
  min-height: 0;
}

#leftMenu {
  width: 320px;
  flex: 0 0 320px;
  overflow: hidden;
}

#moduleHost {
  flex: 1 1 auto;
  overflow: hidden;
}

#rightPanelHost {
  width: 420px;
  flex: 0 0 420px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

#rightPanelHost .outputsList,
#rightPanelHost .outputsScroll,
#rightPanelHost .rp-scroll {
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: auto;
}

@media (max-width: 1100px) {
  #studioLayout,
  #studioRoot .studioTwoPanel,
  #studioRoot .studioLayout,
  #studioRoot .studioGrid {
    flex-direction: column;
  }
  #leftMenu, #rightPanelHost {
    width: auto;
    flex: 0 0 auto;
  }
}
/* =========================================================
   STUDIO V2 ‚Äî LAYOUT TUNING (MEN√ú EN DAR + NEFES + SAƒû BO≈ûLUK)
   Hedef:
   - Men√º en dar (2. g√∂rsel gibi)
   - Orta geni≈ü
   - Saƒü outputs orta-dar
   - Kolonlar arasƒ± az bo≈üluk (nefes)
   - Saƒüda ekstra bo≈ü alan kalsƒ±n
   ========================================================= */

#studioLayout,
#studioRoot .studioTwoPanel,
#studioRoot .studioLayout,
#studioRoot .studioGrid {
  display: flex;
  align-items: stretch;
  gap: 18px;          /* NEFES: 14-22 arasƒ± oynarsƒ±n */
  padding: 18px;
}

/* MEN√ú: en dar yer */
#leftMenu {
  width: 240px;
  flex: 0 0 240px;
  min-width: 240px;
}

/* ORTA: geni≈ü kart */
#moduleHost {
  width: 720px;       /* 680-820 arasƒ± */
  flex: 0 0 720px;    /* flex:1 DEƒûƒ∞L */
  min-width: 0;
}
/* SAƒû: outputs ‚Äî sayfanƒ±n sonuna kadar uzasƒ±n */
#rightPanelHost {
  width: 360px;        /* 320‚Äì420 arasƒ± */
  flex: 0 0 360px;
  min-width: 0;

  /* üëá ASIL FARK BURADA */
  align-self: stretch;
  display: flex;
  flex-direction: column;
}


/* SAƒûDA ekstra bo≈üluk */
#studioLayout::after,
#studioRoot .studioTwoPanel::after,
#studioRoot .studioLayout::after,
#studioRoot .studioGrid::after {
  content: "";
  flex: 1 1 auto;     /* kalan alanƒ± yesin */
  min-width: 80px;    /* saƒüda bo≈üluk hissi */
}

/* K√º√ß√ºk ekran: alt alta */
@media (max-width: 1200px) {
  #studioLayout,
  #studioRoot .studioTwoPanel,
  #studioRoot .studioLayout,
  #studioRoot .studioGrid {
    flex-direction: column;
  }
  #leftMenu, #moduleHost, #rightPanelHost {
    width: auto;
    flex: 0 0 auto;
    min-width: 0;
  }
}
/* ==== RIGHT PANEL HEIGHT FIX (0px bug) ==== */
#mainWorkspace,
#twoPanelWrap {
  height: 100%;
  min-height: 0;
  display: flex;
  align-items: stretch;
}

/* twoPanelWrap i√ßindeki iki kart yan yana duruyorsa */
#twoPanelWrap {
  gap: 18px;
}

/* Saƒü card (√úretilenler) kolon gibi davransƒ±n ve uzasƒ±n */
#twoPanelWrap .studioOutputs,
section.outputsCard.studioOutputs {
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;     /* parent y√ºksekliƒüini alsƒ±n */
  min-height: 0;
}

/* Asƒ±l host: bo≈üluƒüu doldursun */
#rightPanelHost {
  flex: 1 1 auto;
  min-height: 0;
  height: auto;       /* 100% yerine daha g√ºvenli */
}

/* Footer yazƒ±sƒ± tabana yapƒ±≈üsƒ±n (varsa) */
.studioOutputs .panelFooter {
  margin-top: auto;
}
/* ===============================
   TOPBAR GAP FIX (studio) ‚Äî REVƒ∞ZE
   Hedef: her ≈üeyi 1 cm a≈üaƒüƒ± almak
   =============================== */

#studioRoot,
.studioShell,
#mainWorkspace {
  margin-top: 0 !important;
  padding-top: 12px !important; /* ‚Üê 1 cm a≈üaƒüƒ± */
}

body.is-studio-v2,
body.panelWithTopbar {
  padding-top: 12px !important; /* ‚Üê body de e≈üitlendi */
}

:root{
  --aivo-topbar-h: 12px !important; /* ‚Üê topbar offset geri verildi */
}

/* ===============================
   COLUMN TOP ALIGN (same baseline)
   =============================== */

/* 3 kolon parent */
#studioLayout,
#twoPanelWrap,
#studioRoot .studioTwoPanel,
#studioRoot .studioLayout,
#studioRoot .studioGrid{
  align-items: stretch !important;
  padding-top: 12px !important; /* 8-16 arasƒ± ayarla */
}

/* 3 kolonun kendisi aynƒ± hizada ba≈ülasƒ±n */
#leftMenu,
#moduleHost,
#rightPanelHost{
  margin-top: 0 !important;
  padding-top: 0 !important;
  align-self: stretch !important;
}

/* Kolon i√ßindeki ilk kart/section √ºst bo≈üluk yapƒ±yorsa sƒ±fƒ±rla */
#moduleHost > :first-child,
#rightPanelHost > :first-child,
#leftMenu  > :first-child{
  margin-top: 0 !important;
}

/* =========================================================
   RIGHT PANEL WIDEN (controlled) ‚Äî REVƒ∞ZE
   Ama√ß: saƒü panel biraz geni≈ülesin, ama sayfanƒ±n sonuna kadar gitmesin
   studio.shell.css en sona ekle
   ========================================================= */

/* 1) Saƒüdaki extra bo≈üluƒüu tamamen silme ‚Äî sadece k√º√ß√ºlt */
#studioLayout::after,
#studioRoot .studioTwoPanel::after,
#studioRoot .studioLayout::after,
#studioRoot .studioGrid::after {
  content: "" !important;
  display: block !important;
  flex: 0 0 120px !important;   /* bo≈üluk miktarƒ± (80‚Äì220 arasƒ±) */
  min-width: 120px !important;
}

/* 2) Right panel'i biraz b√ºy√ºt */
#rightPanelHost{
  width: 460px !important;      /* hedef geni≈ülik (420‚Äì520 arasƒ±) */
  flex: 0 0 460px !important;   /* sabit tut (flex:1 yapmƒ±yoruz) */
  min-width: 420px !important;
  max-width: 520px !important;
}

/* 3) Saƒü kart paneli tam doldursun */
section.outputsCard.studioOutputs,
#twoPanelWrap .studioOutputs,
.outputsCard.studioOutputs{
  width: 100% !important;
}

/* 4) Eƒüer i√ßeride padding y√ºz√ºnden dar g√∂r√ºn√ºyorsa (opsiyonel) */
#rightPanelHost .outputsCard{
  box-sizing: border-box !important;
}
/* =========================
   RightPanel ‚Äì ortak shell
   ========================= */

#rightPanelHost {
  height: 100%;
  display: flex;
}

.rpShell {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  min-height: 0; /* scroll i√ßin kritik */
}

/* ===== Header (sticky) ===== */
.rpHeader {
  position: sticky;
  top: 0;
  z-index: 5;
  background: linear-gradient(180deg, rgba(20,18,40,.95), rgba(20,18,40,.85));
  backdrop-filter: blur(8px);
  padding: 12px 12px 10px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}

.rpHeaderTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.rpTitle {
  font-size: 14px;
  font-weight: 700;
  letter-spacing: .2px;
}

.rpMeta {
  font-size: 12px;
  opacity: .7;
}

.rpHeaderBottom {
  margin-top: 8px;
}

.rpSearch {
  width: 100%;
  height: 34px;
  padding: 0 10px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.25);
  color: #fff;
  font-size: 13px;
}

.rpSearch::placeholder {
  opacity: .6;
}

.rpSearch:focus {
  outline: none;
  border-color: rgba(150,120,255,.6);
  box-shadow: 0 0 0 2px rgba(150,120,255,.15);
}

/* ===== Scroll body ===== */
.rpBody {
  flex: 1;
  min-height: 0; /* scroll i√ßin kritik */
  overflow-y: auto;
  overscroll-behavior: contain;
  padding: 10px 10px 16px;
}

/* i√ßerik wrapper */
.rpContent {
  display: block;
}
/* ===============================
   LAYOUT TUNING (Motor bigger, Outputs smaller)
   =============================== */

/* Studio ana grid */
.studioShell,
.studioLayout,
.studioMainGrid{
  display: grid !important;
  grid-template-columns: 260px 1fr 440px !important; 
  gap: 18px !important;
  align-items: start !important;
}

/* Saƒü panel (Outputs) sabit geni≈ülik */
.outputsCard,
.rightPanelCard,
#rightPanelHost{
  max-width: 440px !important;
}

/* Orta motor kartƒ± daha geni≈ü nefes alsƒ±n */
#moduleHost,
.studioMotor,
.studioMotorCard{
  width: 100% !important;
  max-width: none !important;
}

/* Saƒü panel i√ßindeki video kartlarƒ± daha kompakt g√∂z√ºks√ºn */
.vpCard{
  max-width: 100% !important;
}
