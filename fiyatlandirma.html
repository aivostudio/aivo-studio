<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AIVO â€” FiyatlandÄ±rma</title>

  <!-- GLOBAL CSS -->
  <link rel="stylesheet" href="/index.css">
  <link rel="stylesheet" href="/pricing.css">
  <link rel="stylesheet" href="/auth.modal.css">

  <!-- ANA AUTH SÄ°STEMÄ° (TEK GERÃ‡EK LOGIN) -->
  <script src="/index.auth.js" defer></script>
</head>

<body>

<!-- =====================================================
     TOPBAR
===================================================== -->
<header class="topbar">
  <div class="topbar-inner">
    <a href="/" class="logo">
      <img src="/aivo-logo.png" alt="AIVO">
    </a>

    <nav class="topnav">
      <a href="#">ÃœrÃ¼nler</a>
      <a href="/kurumsal/">Kurumsal</a>
      <a href="/fiyatlandirma.html" class="active">FiyatlandÄ±rma</a>
    </nav>

    <div class="auth-actions">
      <button id="btnLoginTop" class="btn btn-ghost">GiriÅŸ Yap</button>
      <button id="btnRegisterTop" class="btn btn-primary">KayÄ±t Ol</button>
    </div>
  </div>
</header>

<!-- =====================================================
     PRICING CONTENT
===================================================== -->
<main class="pricing-page">

  <section class="pricing-hero">
    <h1>FiyatlandÄ±rma</h1>
    <p>Ä°htiyacÄ±na gÃ¶re kredi paketini seÃ§.</p>
  </section>

  <section class="pricing-cards">

    <div class="price-card">
      <h3>Yeni KullanÄ±cÄ±</h3>
      <div class="price">199â‚º</div>
      <p>25 Kredi</p>
      <button class="btn btn-secondary js-login-required">
        SatÄ±n almak iÃ§in giriÅŸ yap
      </button>
    </div>

    <div class="price-card popular">
      <h3>Standart</h3>
      <div class="price">399â‚º</div>
      <p>60 Kredi</p>
      <button class="btn btn-secondary js-login-required">
        SatÄ±n almak iÃ§in giriÅŸ yap
      </button>
    </div>

    <div class="price-card">
      <h3>Pro</h3>
      <div class="price">899â‚º</div>
      <p>150 Kredi</p>
      <button class="btn btn-secondary js-login-required">
        SatÄ±n almak iÃ§in giriÅŸ yap
      </button>
    </div>

  </section>
</main>

<!-- =====================================================
     LOGIN MODAL â€” TEK MODAL / ANA SÄ°STEME UYUMLU
===================================================== -->
<div class="login-modal" id="loginModal" aria-hidden="true">
  <div class="login-backdrop" data-close-login></div>

  <div class="login-panel" role="dialog" aria-modal="true">
    <button class="login-close" data-close-login>Ã—</button>

    <h2>Tekrar hoÅŸ geldin ğŸ‘‹</h2>
    <p>AIVO Studioâ€™ya eriÅŸmek iÃ§in giriÅŸ yap.</p>

    <button id="btnGoogleLogin" class="btn btn-google">
      Google ile GiriÅŸ Yap
    </button>

    <div class="login-sep"></div>

    <input id="loginEmail" type="email" placeholder="Email adresin">
    <input id="loginPass" type="password" placeholder="Åifre">

    <!-- ğŸ”´ KRÄ°TÄ°K: ANA SÄ°STEMÄ°N BEKLEDÄ°ÄÄ° ID -->
    <button id="btnLogin" class="btn btn-primary">
      GiriÅŸ Yap
    </button>

    <button id="forgotPass" class="btn btn-link">
      Åifremi unuttum
    </button>

    <button id="goRegister" class="btn btn-ghost">
      Hesap oluÅŸtur â†’
    </button>

    <!-- LEGACY ALIAS (ESKÄ° BLOKLAR Ä°Ã‡Ä°N) -->
    <button id="btnLoginSubmit" hidden></button>
    <button id="btnForgot" hidden></button>
    <button id="btnGoRegister" hidden></button>
  </div>
</div>

<!-- =====================================================
     LOGIN MODAL SCRIPT (SADECE AÃ‡ / KAPAT)
===================================================== -->
<script>
(function () {
  const modal = document.getElementById("loginModal");
  if (!modal) return;

  function open() {
    modal.classList.add("is-open");
    modal.setAttribute("aria-hidden", "false");
    document.body.classList.add("modal-open");
  }

  function close() {
    modal.classList.remove("is-open");
    modal.setAttribute("aria-hidden", "true");
    document.body.classList.remove("modal-open");
  }

  // GLOBAL
  window.openAuthModal = open;

  // TOPBAR
  document.getElementById("btnLoginTop")?.addEventListener("click", open);
  document.getElementById("btnRegisterTop")?.addEventListener("click", open);

  // PRICING BUTTONS
  document.querySelectorAll(".js-login-required").forEach(btn => {
    btn.addEventListener("click", e => {
      e.preventDefault();
      open();
    });
  });

  // CLOSE
  modal.addEventListener("click", e => {
    if (e.target.hasAttribute("data-close-login")) close();
  });

  // LEGACY PROXY
  document.getElementById("btnLoginSubmit")?.addEventListener("click", () =>
    document.getElementById("btnLogin")?.click()
  );
})();
</script>

</body>
</html>
