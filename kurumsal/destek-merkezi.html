<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#070A14" />
  <title>AIVO â€” Destek Merkezi</title>

  <!-- âœ… FOUC FIX -->
  <style>
    html, body {
      margin: 0;
      min-height: 100%;
      background: #070A14 !important;
      color: #e7ecff;
    }
    body { background: #070A14 !important; }
  </style>

<!-- ================= CORE (Index / Pricing ile AYNI) ================= -->
<link rel="stylesheet" href="/index.css?v=20251227-1" />

<!-- ================= SAYFAYA Ã–ZEL ================= -->
<link rel="stylesheet" href="/kurumsal.css?v=20251227-1" />

<!-- ================= TOPBAR / DROPDOWN ================= -->
<link rel="stylesheet" href="/products.dropdown.css?v=8" />

<!-- ================= MODAL (ALWAYS VERY LAST) ================= -->
<link rel="stylesheet" href="/auth.modal.css?v=20251227-1" />

<!-- ================= PARTIALS (header/topbar DOM basar) ================= -->
<script src="/include.partials.js?v=2" defer></script>

<!-- ================= AUTH ================= -->
<script src="/index.auth.js?v=20260108" defer></script>
<script src="/auth.unify.fix.js?v=2" defer></script>

<!-- âœ… AUTH STATE (AUTO LOGIN GUARD) ================= -->
<!-- âœ… AUTH STATE (NO FETCH OVERRIDE) -->
<script src="/auth-state.auto.js?v=20260115" defer></script>


<!-- ================= STORE ================= -->
<script src="/store.js?v=2" defer></script>

<!-- ================= CREDITS UI (HER ZAMAN EN SON) ================= -->
<script src="/credits-ui.js?v=4" defer></script>


</head>

<body class="page-help" data-skin="corp">

  <!-- âœ… TOPBAR (TEK KAYNAK) -->
  <div data-include="topbar"></div>


  <!-- ================= PAGE BODY ================= -->
  <main class="container">

    <a href="/" class="btn btn-ghost">â† Ana Sayfaya DÃ¶n</a>

    <div class="k-tag">KURUMSAL</div>
    <h1 class="k-title">Destek Merkezi</h1>
    <p class="k-sub">
      AIVO Studio ile ilgili sÄ±k sorulan sorular, sorun giderme adÄ±mlarÄ± ve destek kanallarÄ±.
    </p>

    <section class="k-sec" id="hesap">
      <h2>Destek Ä°letiÅŸim</h2>
      <p>
        TÃ¼m destek talepleriniz iÃ§in:
        <a href="mailto:info@aivo.tr">info@aivo.tr</a>
      </p>
    </section>

  </main>
  <!-- ================= /PAGE BODY ================= -->

  <!-- ================= FOOTER ================= -->
  <footer class="aivo-footer" id="footer">
    <div class="aivo-wrap aivo-footer-top">

      <div class="aivo-footer-brand">
        <div class="aivo-footer-logo">AIVO</div>
        <p>TÃ¼rkÃ§e odaklÄ± AI mÃ¼zik Ã¼retiminde yeni bir standart.</p>

        <div class="aivo-social">
          <a href="#" aria-label="X">X</a>
          <a href="#" aria-label="Instagram">IG</a>
          <a href="#" aria-label="LinkedIn">in</a>
          <a href="#" aria-label="GitHub">GH</a>
        </div>
      </div>

      <div class="aivo-footer-col">
        <h4>HÄ±zlÄ± Linkler</h4>
        <a href="/#top">Ana Sayfa</a>
        <a href="/#modules">Ã–zellikler</a>
        <a href="/#fiyatlar">FiyatlandÄ±rma</a>
        <a href="/studio.html" data-auth="required">Dashboard</a>
      </div>

      <div class="aivo-footer-col">
        <h4>Kurumsal</h4>
        <a href="/kurumsal/hakkimizda.html">HakkÄ±mÄ±zda</a>
        <a href="/kurumsal/ozellikler.html">Ã–zellikler</a>
        <a href="/kurumsal/gizlilik.html">Gizlilik PolitikasÄ±</a>
        <a href="/kurumsal/mesafeli-satis.html">Mesafeli SatÄ±ÅŸ SÃ¶zleÅŸmesi</a>
        <a href="mailto:info@aivo.tr">Ä°letiÅŸim</a>
      </div>

      <div class="aivo-footer-right">
        <div class="aivo-badges">
          <div class="aivo-badge">PAYTR / iyzico<br><small>GÃ¼venli Ã¶deme</small></div>
          <div class="aivo-badge">VISA â€¢ MC â€¢ TROY<br><small>256-bit SSL</small></div>
          <div class="aivo-badge">ETBÄ°S<br><small>(Åirket sonrasÄ±)</small></div>
        </div>

        <div class="aivo-contact">
          <h4>Ä°letiÅŸim</h4>
          <a href="mailto:info@aivo.tr" class="aivo-contact-mail">info@aivo.tr</a>
        </div>
      </div>

    </div>

    <div class="aivo-wrap aivo-footer-bottom">
      <div>Â© 2025 AIVO. TÃ¼m haklarÄ± saklÄ±dÄ±r.</div>
      <div class="aivo-status">
        Durum: <span class="dot"></span> Aktif
      </div>
    </div>
  </footer>
  <!-- ================= /FOOTER ================= -->

  <!-- ================= LOGIN MODAL ================= -->
  <div class="login-modal" id="loginModal" aria-hidden="true">
    <div class="login-backdrop" data-close="1"></div>

    <div class="login-panel" role="dialog" aria-modal="true">
      <div class="login-card login-header">
        <button class="login-x" type="button" data-close="1">Ã—</button>
        <h3>Tekrar hoÅŸ geldin ğŸ‘‹</h3>
        <p>AIVO Studioâ€™ya eriÅŸmek iÃ§in giriÅŸ yap.</p>
      </div>

      <div class="login-card login-google">
        <div class="card-title">HÄ±zlÄ± GiriÅŸ</div>
        <button id="btnGoogleLogin" type="button" class="btn-google">
          Google ile GiriÅŸ Yap
        </button>
      </div>

      <div class="login-card login-email">
        <div class="email-row email-row-2">
          <input id="loginEmail" type="email" placeholder="ornek@aivo.tr" />
          <input id="loginPass" type="password" placeholder="Åifre" />
        </div>
        <button id="btnLogin" type="button" class="btn-primary btn-login-full">
          GiriÅŸ Yap
        </button>
      </div>

      <div class="login-card login-footer">
        <span>AIVOâ€™da yeni misin?</span>
        <a href="#" id="goRegister" class="link-accent">
          Ãœcretsiz hesap oluÅŸtur ve 5 kredi kazan â†’
        </a>
      </div>
    </div>
  </div>
  <!-- ================= /LOGIN MODAL ================= -->

<!-- âœ… AIVO SINGLE BLOCK â€” USER MENU + HARD LOGOUT (CORP + INDEX SAFE) -->
<script>
(function(){
  "use strict";

  // ===== 0) If we landed with ?logout=1 => hard-clear BEFORE auth rehydrates =====
  function hasLogoutFlag(){
    try { return /(?:\?|&)logout=1(?:&|$)/.test(location.search || ""); } catch(e){ return false; }
  }

  function clearAllStorageHard(){
    try { localStorage.clear(); } catch(e){}
    try { sessionStorage.clear(); } catch(e){}
  }

  function expireAllCookiesHard(){
    // Note: Only non-HttpOnly cookies are visible to JS.
    try {
      var list = document.cookie ? document.cookie.split(";") : [];
      var host = location.hostname;
      var domains = [host, "." + host];
      var paths = ["/"];

      list.forEach(function(c){
        var eq = c.indexOf("=");
        var name = (eq > -1 ? c.slice(0, eq) : c).trim();
        if (!name) return;

        domains.forEach(function(d){
          paths.forEach(function(p){
            document.cookie = name + "=; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Path=" + p + "; Domain=" + d + "; SameSite=Lax";
          });
        });
        // also without domain
        document.cookie = name + "=; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Path=/; SameSite=Lax";
      });
    } catch(e){}
  }

  async function hitLogoutEndpoints(){
    // If your backend uses cookie-session, this helps invalidate it (if endpoint exists).
    var urls = ["/api/auth/logout", "/api/logout", "/logout"];
    for (var i=0; i<urls.length; i++){
      try { await fetch(urls[i], { method:"POST", credentials:"include" }); } catch(e){}
      try { await fetch(urls[i], { method:"GET",  credentials:"include" }); } catch(e2){}
    }
  }

  async function hardLogoutAndRedirect(){
    // 1) Prefer app logout if exists
    try {
      if (window.AIVO_AUTH && typeof window.AIVO_AUTH.logout === "function") { window.AIVO_AUTH.logout(); return; }
      if (typeof window.logout === "function") { window.logout(); return; }
      if (typeof window.doLogout === "function") { window.doLogout(); return; }
    } catch(err){}

    // 2) Backend invalidate (best-effort) + hard clear
    try { await hitLogoutEndpoints(); } catch(e){}
    clearAllStorageHard();
    expireAllCookiesHard();

    // 3) Go to vitrin with marker to prevent rehydrate
    location.replace("/?logout=1&ts=" + Date.now());
  }

  // If we are on vitrin with logout=1, wipe again and clean URL immediately.
  if (hasLogoutFlag()){
    clearAllStorageHard();
    expireAllCookiesHard();
    try { history.replaceState(null, "", "/"); } catch(e){}
  }

  // ===== 1) User menu (Hesap paneli) bind =====
  function $(id){ return document.getElementById(id); }

  function findEls(){
    var btn   = $("btnUserMenuTop") || document.querySelector("#topUserChip #btnUserMenuTop") || document.querySelector("#btnUserMenuTop");
    var panel = $("topUserMenu") || $("userMenuPanel") || document.querySelector("#topUserMenu, #userMenuPanel");
    var wrap  = $("topUserChip") || $("userMenuWrap") || (btn ? btn.closest("#topUserChip, #userMenuWrap") : null) || (panel ? panel.closest("#topUserChip, #userMenuWrap") : null);
    return { btn: btn, panel: panel, wrap: wrap };
  }

  function bindMenuOnce(){
    var el = findEls();
    var btn = el.btn, panel = el.panel, wrap = el.wrap;

    if (!btn || !panel) return false;
    if (!wrap) wrap = panel;

    // prevent double bind
    if (btn.__aivoMenuBound) return true;
    btn.__aivoMenuBound = true;

    function isOpen(){
      return wrap.classList.contains("is-open") || panel.classList.contains("is-open") || panel.style.display === "block";
    }
    function open(){
      wrap.classList.add("is-open");
      panel.classList.add("is-open");
      panel.style.display = "block";
      panel.setAttribute("aria-hidden","false");
      btn.setAttribute("aria-expanded","true");
    }
    function close(){
      wrap.classList.remove("is-open");
      panel.classList.remove("is-open");
      panel.style.display = "none";
      panel.setAttribute("aria-hidden","true");
      btn.setAttribute("aria-expanded","false");
    }

    // Toggle
    btn.addEventListener("click", function(e){
      e.preventDefault();
      e.stopPropagation();
      if (isOpen()) close(); else open();
    }, false);

    // Panel iÃ§i tÄ±klar kapanmayÄ± tetiklemesin
    panel.addEventListener("click", function(e){
      e.stopPropagation();
    }, false);

    // Outside click
    document.addEventListener("click", function(e){
      if (!isOpen()) return;
      if (panel.contains(e.target) || btn.contains(e.target) || (wrap && wrap.contains(e.target))) return;
      close();
    }, false);

    // ESC
    document.addEventListener("keydown", function(e){
      if (e.key === "Escape" && isOpen()) close();
    }, false);

    // Logout button bind (panel iÃ§inde)
    var logoutBtn =
      panel.querySelector("#btnLogoutTop") ||
      panel.querySelector("[data-action='logout']") ||
      panel.querySelector("button.logout, a.logout") ||
      panel.querySelector("button[data-logout], a[data-logout]") ||
      panel.querySelector("a[href*='logout']");

    if (logoutBtn && !logoutBtn.__aivoLogoutBound) {
      logoutBtn.__aivoLogoutBound = true;
      logoutBtn.addEventListener("click", function(e){
        e.preventDefault();
        e.stopPropagation();
        hardLogoutAndRedirect();
      }, true); // capture: guaranteed fire
    }

    // deterministic initial state
    close();
    return true;
  }

  function boot(){
    if (bindMenuOnce()) return;

    // include.partials.js geÃ§ geliyorsa yakala
    var tries = 0;
    var t = setInterval(function(){
      tries++;
      if (bindMenuOnce() || tries >= 120) clearInterval(t); // ~6s max
    }, 50);

    // DOM sonradan gelirse de yakala
    try {
      var mo = new MutationObserver(function(){
        bindMenuOnce();
        if (document.querySelector("#btnUserMenuTop") && (document.querySelector("#topUserMenu") || document.querySelector("#userMenuPanel"))) {
          try { mo.disconnect(); } catch(e){}
        }
      });
      mo.observe(document.documentElement, { childList:true, subtree:true });
      setTimeout(function(){ try{ mo.disconnect(); }catch(e){} }, 8000);
    } catch(e){}
  }

  if (document.readyState === "complete") boot();
  else window.addEventListener("load", boot);
})();
</script>

<!-- ================= LOGOUT (TEK KAYNAK / GLOBAL) ================= -->
<script src="/auth.logout.js?v=1"></script>
<script>window.__AIVO_AUTH_ENSURE_UI__=()=>{try{const a=JSON.parse(localStorage.getItem("aivo_auth_unified_v1")||"{}");const e=(a&&a.email)||"";if(e){document.querySelector("#umEmail")&&(document.querySelector("#umEmail").textContent=e);document.querySelector("#topUserEmail")&&(document.querySelector("#topUserEmail").textContent=e);}}catch(_){}};</script>
<script>window.addEventListener("load",()=>{window.__AIVO_AUTH_ENSURE_UI__();let i=0;const t=setInterval(()=>{window.__AIVO_AUTH_ENSURE_UI__();if(++i>60)clearInterval(t);},50);});</script>

</body>
</html>
