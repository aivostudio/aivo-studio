<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AIVO ‚Ä¢ ƒ∞leti≈üim</title>

  <!-- Ana site stillerin (sende neyse onu baƒüla) -->
  <link rel="stylesheet" href="/index.css" />

  <!-- Bu sayfaya √∂zel k√º√ß√ºk stil (a≈üaƒüƒ±daki <style>) yeterli -->
</head>

<body>
  <a class="back-link" href="/#footer">‚Üê Ana Sayfaya D√∂n</a>

  <main class="contact-page">
    <header class="contact-hero">
      <div class="contact-icon">üí¨</div>
      <h1>ƒ∞leti≈üim</h1>
      <p>Sorularƒ±nƒ±z, √∂nerileriniz veya destek talepleriniz i√ßin bize yazƒ±n. En kƒ±sa s√ºrede d√∂n√º≈ü yapacaƒüƒ±z.</p>
    </header>

    <section class="contact-grid">
      <!-- SOL: FORM -->
      <div class="contact-card">
        <h2>Mesaj G√∂nder</h2>
        <p class="muted">Formu doldurarak bizimle ileti≈üime ge√ßebilirsiniz.</p>

        <form id="contactForm" class="contact-form">
          <div class="row">
            <label>
              Ad Soyad *
              <input id="contactName" type="text" placeholder="Adƒ±nƒ±z ve soyadƒ±nƒ±z" required />
            </label>

            <label>
              E-posta *
              <input id="contactEmail" type="email" placeholder="ornek@email.com" required />
            </label>
          </div>

          <label>
            Mesaj *
            <textarea id="contactMessage" rows="6" placeholder="Mesajƒ±nƒ±zƒ± buraya yazƒ±n..." required></textarea>
          </label>

          <button type="submit" class="btn-send">
            Mesaj G√∂nder
          </button>

          <div id="contactNote" class="contact-note" aria-live="polite"></div>
        </form>
      </div>

      <!-- SAƒû: Bƒ∞LGƒ∞ KARTI -->
      <aside class="contact-card">
        <h2>ƒ∞leti≈üim Bilgileri</h2>

        <div class="info">
          <div class="info-item">
            <div class="k">E-posta</div>
            <a class="v" href="mailto:info@aivo.tr">info@aivo.tr</a>
          </div>

          <div class="info-item">
            <div class="k">Durum</div>
            <div class="v"><span class="dot"></span> Aktif</div>
          </div>
        </div>

        <div class="faq">
          <h3>Sƒ±k Sorulan Sorular</h3>
          <p><strong>Ne kadar s√ºrede yanƒ±t alƒ±rƒ±m?</strong><br><span class="muted">Genellikle 24 saat i√ßinde d√∂n√º≈ü yapƒ±yoruz.</span></p>
          <p><strong>Teknik destek alabilir miyim?</strong><br><span class="muted">Evet, destek i√ßin e-posta g√∂nderebilirsiniz.</span></p>
        </div>
      </aside>
    </section>
  </main>

  <!-- JS: API'ye post (send-mail) -->
  <script>
    (function () {
      const form = document.getElementById("contactForm");
      if (!form) return;

      const note = document.getElementById("contactNote");
      const btn = form.querySelector("button[type='submit']");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const name = document.getElementById("contactName").value.trim();
        const email = document.getElementById("contactEmail").value.trim();
        const message = document.getElementById("contactMessage").value.trim();

        // Basit guard
        if (!name || !email || !message) return;

        const oldText = btn.textContent;
        btn.disabled = true;
        btn.textContent = "G√∂nderiliyor‚Ä¶";
        note.textContent = "";

        try {
          const res = await fetch("/api/send-mail", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              name,
              email,
              message,
              source: "kurumsal/iletisim"
            })
          });

          const data = await res.json().catch(() => ({}));

          if (!res.ok || data.ok !== true) {
            throw new Error("send_failed");
          }

          form.reset();
          note.textContent = "Mesajƒ±n alƒ±ndƒ± ‚úÖ En kƒ±sa s√ºrede d√∂n√º≈ü yapacaƒüƒ±z.";
          note.classList.add("ok");
          note.classList.remove("err");
        } catch (err) {
          note.textContent = "≈ûu an g√∂nderemedik. L√ºtfen biraz sonra tekrar deneyin.";
          note.classList.add("err");
          note.classList.remove("ok");
        } finally {
          btn.disabled = false;
          btn.textContent = oldText;
        }
      });
    })();
  </script>

  <!-- Bu sayfaya √∂zel minimal stil -->
  <style>
    .back-link{
      position: fixed;
      top: 18px;
      left: 18px;
      z-index: 50;
      color: rgba(210,210,255,.9);
      text-decoration: none;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid rgba(120,120,255,.18);
      background: rgba(10,12,20,.35);
      backdrop-filter: blur(10px);
    }
    .contact-page{max-width: 1100px; margin: 0 auto; padding: 110px 18px 80px;}
    .contact-hero{text-align:center; margin-bottom: 28px;}
    .contact-icon{width:48px;height:48px;border-radius:14px;display:inline-flex;align-items:center;justify-content:center;
      background: rgba(120,120,255,.18); border:1px solid rgba(120,120,255,.25); margin-bottom: 12px;}
    .contact-hero h1{margin: 6px 0 8px; font-size: 44px; letter-spacing: -0.5px;}
    .contact-hero p{margin:0; color: rgba(210,210,255,.65);}
    .contact-grid{display:grid; grid-template-columns: 1.2fr .8fr; gap: 18px; margin-top: 18px;}
    @media (max-width: 900px){ .contact-grid{grid-template-columns:1fr;} .back-link{position: static; display:inline-block; margin:16px 0 0 16px;} }

    .contact-card{
      border-radius: 18px;
      border: 1px solid rgba(120,120,255,.16);
      background: rgba(12,14,22,.38);
      backdrop-filter: blur(14px);
      box-shadow: 0 16px 60px rgba(0,0,0,.35);
      padding: 18px;
    }
    .contact-card h2{margin: 0 0 6px; font-size: 20px;}
    .muted{color: rgba(210,210,255,.6);}

    .contact-form{margin-top: 14px;}
    .row{display:grid; grid-template-columns: 1fr 1fr; gap: 12px;}
    @media (max-width: 700px){ .row{grid-template-columns:1fr;} }

    label{display:block; font-size: 13px; color: rgba(220,220,255,.75);}
    input, textarea{
      width: 100%;
      margin-top: 6px;
      border-radius: 12px;
      padding: 12px 12px;
      color: rgba(240,240,255,.95);
      background: rgba(10,12,18,.55);
      border: 1px solid rgba(120,120,255,.18);
      outline: none;
      transition: border-color .2s ease, box-shadow .2s ease;
    }
    input:focus, textarea:focus{
      border-color: rgba(150,150,255,.45);
      box-shadow: 0 0 0 4px rgba(120,120,255,.12);
    }

    .btn-send{
      margin-top: 12px;
      width: 100%;
      border: 1px solid rgba(120,120,255,.22);
      border-radius: 14px;
      padding: 12px 14px;
      color: rgba(245,245,255,.95);
      cursor: pointer;
      background: linear-gradient(135deg, rgba(120,120,255,.35), rgba(90,160,255,.25));
      position: relative;
      overflow: hidden;
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .btn-send:hover{
      transform: translateY(-1px);
      border-color: rgba(150,150,255,.45);
      box-shadow: 0 12px 34px rgba(80,90,255,.25);
    }
    .btn-send::before{
      content:"";
      position:absolute;
      top:-40%;
      left:-60%;
      width:40%;
      height:180%;
      background: linear-gradient(120deg, transparent, rgba(255,255,255,.28), transparent);
      transform: skewX(-20deg);
      opacity:0;
    }
    .btn-send:hover::before{
      opacity:1;
      animation: shine 1.2s ease;
    }
    @keyframes shine{ from{left:-60%;} to{left:140%;} }

    .contact-note{margin-top: 10px; font-size: 13px;}
    .contact-note.ok{color: rgba(120,255,170,.95);}
    .contact-note.err{color: rgba(255,140,140,.95);}

    .info{display:grid; gap: 12px; margin-top: 12px;}
    .info-item{padding:12px;border-radius:14px;border:1px solid rgba(120,120,255,.14); background: rgba(10,12,18,.35);}
    .k{font-size: 12px; color: rgba(210,210,255,.55); margin-bottom: 6px;}
    .v{color: rgba(240,240,255,.92); text-decoration:none;}
    .dot{display:inline-block;width:10px;height:10px;border-radius:999px;background:#4ade80; margin-right: 8px; box-shadow: 0 0 0 4px rgba(74,222,128,.12);}

    .faq{margin-top: 16px; padding-top: 12px; border-top: 1px solid rgba(120,120,255,.12);}
    .faq h3{margin: 0 0 10px; font-size: 15px;}
    .faq p{margin: 0 0 12px;}
  </style>
</body>
</html>
