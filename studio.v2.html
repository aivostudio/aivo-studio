<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>AIVO Studio v2</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- âœ… TOPBAR / DROPDOWN (BASE) -->
  <link rel="stylesheet" href="/index.css?v=1000">
  <link rel="stylesheet" href="/products.dropdown.css?v=12">
  <link rel="stylesheet" href="/products.dropdown.override.css?v=7" />

  <!-- âœ… STUDIO V2 -->
  <link rel="stylesheet" href="/studio.v2.css?v=1" />

  <!-- === AIVO / EITA RENK TEMASI (INLINE) === -->
  <style>
   /* ====== EDGE / STROKE (2. resimdeki gibi) ====== */
:root{
  --stroke-a: #8b5cf6;   /* mor */
  --stroke-b: #ec4899;   /* pembe */
  --stroke-c: #22d3ee;   /* cyan (istersen sil) */

  --card-bg: rgba(10, 12, 22, .72);   /* iÃ§ renk (same) */
  --card-radius: 26px;
  --stroke-w: 1.5px;
}

/* Ortak kart davranÄ±ÅŸÄ± */
.glassCard,
.outputsCard,
.navCard{
  position: relative;
  border-radius: var(--card-radius);
  background: var(--card-bg);
  border: var(--stroke-w) solid rgba(255,255,255,.06); /* fallback */
  overflow: hidden;
}

/* Gradient â€œstrokeâ€ (sadece kenar) */
.glassCard::before,
.outputsCard::before,
.navCard::before{
  content:"";
  position:absolute;
  inset:0;
  padding: var(--stroke-w);
  border-radius: inherit;
  background: linear-gradient(135deg,
    var(--stroke-a),
    var(--stroke-b),
    var(--stroke-c)
  );

  /* sadece border kalsÄ±n diye maskele */
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;

  opacity: .55; /* Ã§izgi ÅŸiddeti */
  pointer-events:none;
}

/* Glow (kenarlardan Ä±ÅŸÄ±k pÃ¼skÃ¼rtme) */
.glassCard::after,
.outputsCard::after,
.navCard::after{
  content:"";
  position:absolute;
  inset:-18px;                 /* glow dÄ±ÅŸarÄ± taÅŸsÄ±n */
  border-radius: inherit;
  background: radial-gradient(60% 50% at 50% 0%,
      rgba(139,92,246,.22),
      rgba(236,72,153,.14),
      transparent 70%
    ),
    radial-gradient(60% 50% at 50% 100%,
      rgba(34,211,238,.14),
      rgba(139,92,246,.10),
      transparent 70%
    );
  filter: blur(18px);
  opacity: .8;
  pointer-events:none;
}

/* Ä°Ã§erik Ã¼stte kalsÄ±n */
.glassCard > *,
.outputsCard > *,
.navCard > *{
  position: relative;
  z-index: 1;
}

/* Ä°stersen outputs biraz daha ÅŸeffaf */
.outputsCard{
  background: rgba(10, 12, 22, .58);
}

/* Kenarlar arasÄ± â€œ1-2 cmâ€ hissi: gapâ€™i artÄ±r */
.studioTwoPanel{
  gap: 22px;         /* 16 -> 22/24 deneyebilirsin */
}

/* Panel dÄ±ÅŸ gÃ¶lgeler (derinlik) */
.glassCard,
.outputsCard,
.navCard{
  box-shadow:
    0 18px 45px rgba(0,0,0,.55),
    inset 0 1px 0 rgba(255,255,255,.05);
}
  </style>

  <!-- âœ… STUDIO AUTH GATE (legacy'den aynen) -->
  <style id="aivo-auth-gate-style">
    html { visibility: hidden; }
  </style>

  <script>
  (function AIVO_STUDIO_HARD_GATE(){
    if (window.__AIVO_STUDIO_HARD_GATE__) return;
    window.__AIVO_STUDIO_HARD_GATE__ = true;

    function goIndexLogin(){
      var from = encodeURIComponent(location.href);
      location.replace("/?open=login&from=" + from);
    }

    var ctrl = new AbortController();
    var t = setTimeout(function(){ try{ ctrl.abort(); }catch(e){} }, 2500);

    fetch("/api/auth/me", {
      credentials: "include",
      cache: "no-store",
      signal: ctrl.signal
    })
    .then(async function(r){
      clearTimeout(t);

      if (r.status === 200) {
        const me = await r.json();

        // âœ… Auth OK -> sayfayÄ± gÃ¶ster
        var st = document.getElementById("aivo-auth-gate-style");
        if (st) st.remove();
        document.documentElement.style.visibility = "visible";

        // ===============================
        // ğŸŸ¢ ONLINE PRESENCE PING
        // ===============================
        if (me && me.email) {

          // ilk ping (hemen)
          fetch("/api/presence/ping", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ email: me.email })
          });

          // 30 sn'de bir ping
          setInterval(function(){
            fetch("/api/presence/ping", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ email: me.email })
            });
          }, 30000);
        }
        // ===============================

        return;
      }

      // âŒ 401/403 -> Index'e + login aÃ§Ä±k
      goIndexLogin();
    })
    .catch(function(){
      // âŒ timeout/network -> fail-closed
      goIndexLogin();
    });
  })();
  </script>
</head>

<body class="is-studio-v2 pageWithTopbar">

  <!-- ================= AIVO TOPBAR (TEK) ================= -->
  <header class="aivo-topbar" id="top">
    <div class="container aivo-topbar-inner">

      <!-- LOGO -->
      <a class="aivo-brand" href="/" aria-label="AIVO">
        <img class="aivo-brand-logo" src="/aivo-logo.png" alt="AIVO" loading="lazy" />
      </a>

      <!-- NAV -->
      <nav class="aivo-nav" aria-label="Ãœst menÃ¼">

        <!-- ÃœRÃœNLER -->
        <div class="nav-item has-dropdown" id="navProducts">
          <button class="nav-link" type="button" aria-haspopup="true" aria-expanded="false">
            ÃœrÃ¼nler <span class="chevron">â–¾</span>
          </button>

          <div class="dropdown dropdown--products" aria-label="ÃœrÃ¼nler menÃ¼sÃ¼">
            <div class="products-menu">

              <!-- 1) AI MÃœZÄ°K -->
              <a href="/studio.html?page=music" data-auth="required" class="product-card" data-product="music">
                <span class="pc-ico">ğŸµ</span>
                <span class="pc-txt">
                  <span class="pc-title">AI MÃ¼zik</span>
                  <span class="pc-sub">TÃ¼rkÃ§e odaklÄ±, hÄ±zlÄ± Ã¼retim</span>
                </span>
              </a>

              <!-- 2) AI KAPAK / GÃ–RSEL -->
              <a href="/studio.html?page=cover" data-auth="required" class="product-card" data-product="cover">
                <span class="pc-ico">ğŸ–¼ï¸</span>
                <span class="pc-txt">
                  <span class="pc-title">AI Kapak / GÃ¶rsel</span>
                  <span class="pc-sub">Kapak, afiÅŸ, gÃ¶rsel iÃ§erik</span>
                </span>
              </a>

              <!-- 3) AI VIDEO -->
              <a href="/studio.html?page=video" data-auth="required" class="product-card" data-product="video">
                <span class="pc-ico">ğŸ¬</span>
                <span class="pc-txt">
                  <span class="pc-title">AI Video</span>
                  <span class="pc-sub">Sosyal medya uyumlu Ã§Ä±ktÄ±lar</span>
                </span>
              </a>

              <!-- 4) AI SOSYAL MEDYA -->
              <a href="/studio.html?page=sm-pack-a"
                 data-auth="required"
                 class="product-card sm-card sm-card--a"
                 data-product="sm-pack-a">
                <span class="pc-ico">ğŸ“²</span>
                <span class="pc-txt">
                  <span class="pc-title">AI Sosyal Medya</span>
                  <span class="pc-sub">MÃ¼zik + loop + kapak + caption</span>
                </span>
              </a>

              <!-- 5) AI VIRAL HOOK -->
              <a href="/studio.html?page=sm-pack-b"
                 data-auth="required"
                 class="product-card sm-card sm-card--b"
                 data-product="sm-pack-b">
                <span class="pc-ico">ğŸ”¥</span>
                <span class="pc-txt">
                  <span class="pc-title">AI Viral Hook</span>
                  <span class="pc-sub">Ä°lk 3 sn viral aÃ§Ä±lÄ±ÅŸ</span>
                </span>
              </a>

              <!-- 6) AI ATMOSFER -->
              <a href="/studio.html?page=atmo"
                 data-auth="required"
                 class="product-card"
                 data-product="atmo">
                <span class="pc-ico">ğŸŒ«ï¸</span>
                <span class="pc-txt">
                  <span class="pc-title">AI Atmosfer</span>
                  <span class="pc-sub">Loop sahne & atmosfer</span>
                </span>
              </a>

            </div>
          </div>
        </div>
        <!-- /ÃœRÃœNLER -->

        <!-- KURUMSAL -->
        <div class="nav-item has-dropdown" id="navCorp">
          <button class="nav-link" type="button" aria-haspopup="true" aria-expanded="false">
            Kurumsal <span class="chevron">â–¾</span>
          </button>

          <div class="dropdown dropdown--corp" aria-label="Kurumsal menÃ¼sÃ¼">
            <div class="corp-menu">
              <div class="corp-grid">

                <a href="/kurumsal/hakkimizda.html" class="corp-card">
                  <span class="cc-ico">â“˜</span>
                  <span class="cc-txt">
                    <span class="cc-title">HakkÄ±mÄ±zda</span>
                    <span class="cc-sub">AIVOâ€™nun hikayesi</span>
                  </span>
                </a>

                <a href="/kurumsal/ozellikler.html" class="corp-card">
                  <span class="cc-ico">âš™ï¸</span>
                  <span class="cc-txt">
                    <span class="cc-title">Ã–zellikler</span>
                    <span class="cc-sub">Neler sunuyoruz</span>
                  </span>
                </a>

                <a href="/kurumsal/gizlilik.html" class="corp-card">
                  <span class="cc-ico">ğŸ”’</span>
                  <span class="cc-txt">
                    <span class="cc-title">Gizlilik PolitikasÄ±</span>
                    <span class="cc-sub">KVKK / GDPR</span>
                  </span>
                </a>

                <a href="/kurumsal/mesafeli-satis.html" class="corp-card">
                  <span class="cc-ico">ğŸ“„</span>
                  <span class="cc-txt">
                    <span class="cc-title">Mesafeli SatÄ±ÅŸ</span>
                    <span class="cc-sub">SÃ¶zleÅŸme metni</span>
                  </span>
                </a>

                <a href="/kurumsal/destek-merkezi.html" class="corp-card">
                  <span class="cc-ico">â“</span>
                  <span class="cc-txt">
                    <span class="cc-title">Destek Merkezi</span>
                    <span class="cc-sub">YardÄ±m &amp; SSS</span>
                  </span>
                </a>

                <a href="/kurumsal/destek.html" class="corp-card">
                  <span class="cc-ico">âœ‰ï¸</span>
                  <span class="cc-txt">
                    <span class="cc-title">Ä°letiÅŸim</span>
                    <span class="cc-sub">Destek &amp; bilgi</span>
                  </span>
                </a>

              </div><!-- /.corp-grid -->
            </div><!-- /.corp-menu -->
          </div><!-- /.dropdown -->
        </div><!-- /.nav-item -->

        <a class="nav-link" href="/fiyatlandirma.html">FiyatlandÄ±rma</a>

      </nav>
      <!-- /NAV -->

      <!-- AUTH -->
      <div class="aivo-auth">

        <!-- GUEST (BOÅ OLSA BÄ°LE ÅART) -->
        <div class="auth-guest" id="authGuest"></div>

        <!-- USER -->
        <div class="auth-user" id="authUser" hidden>

          <!-- âœ… CREDIT AREA (Sadece auth-user iÃ§inde gÃ¶rÃ¼nÃ¼r) -->
          <div class="top-credits" id="topCredits">
            <div class="credit-pill credit-pill--static" title="Kredi bakiyesi">
              Kredi <strong id="topCreditCount">0</strong>
            </div>

            <a href="/fiyatlandirma.html#packs" class="btn btn-ghost btn-credit-buy">
              Kredi Al
            </a>
          </div>

          <!-- ğŸ”’ USER MENU WRAP -->
          <div class="user-menu-wrap" id="userMenuWrap">

            <button id="btnUserMenuTop" class="user-pill" type="button" aria-haspopup="true" aria-expanded="false">
              <span class="user-ava" id="topUserInitial"></span>
              <span class="user-name" id="topUserName">Hesap</span>
              <span class="chev">â–¾</span>
            </button>

            <div id="userMenuPanel" class="user-menu" aria-hidden="true" hidden>
              <div class="user-menu-card">

                <div class="um-head">
                  <div class="um-ava" id="umAvatar"></div>

                  <div class="um-meta">
                    <div class="um-title" id="umName">Hesap</div>
                    <div class="um-sub" id="umEmail"></div>
                  </div>
                </div>

                <div class="um-plan">
                  <span class="um-plan-ico">ğŸ’</span>
                  <span class="um-plan-txt" id="umPlan">Basic</span>
                </div>

                <div class="um-sep"></div>

                <a class="um-item" href="/studio.html?to=dashboard">
                  <span class="um-i">âœ¦</span><span>Dashboard</span>
                </a>

                <a class="um-item" href="/studio.html?to=library">
                  <span class="um-i">â–¦</span><span>Ãœrettiklerim</span>
                </a>

                <a class="um-item" href="/studio.html?to=profile">
                  <span class="um-i">ğŸ‘¤</span><span>Profil</span>
                </a>

                <a class="um-item" href="/studio.html?to=settings">
                  <span class="um-i">âš™</span><span>Ayarlar</span>
                </a>

                <div class="um-sep"></div>

                <button class="um-item um-item-danger"
                        data-action="logout"
                        data-redirect="/"
                        type="button">
                  <span>Ã‡Ä±kÄ±ÅŸ Yap</span>
                </button>

              </div>
            </div>

          </div>
          <!-- /USER MENU WRAP -->

        </div><!-- /#authUser -->

      </div><!-- /.aivo-auth -->
      <!-- /AUTH -->

    </div><!-- /.container.aivo-topbar-inner -->
  </header>
  <!-- ================= /AIVO TOPBAR ================= -->


  <!-- SHELL: SOL MENÃœ + ORTA (2 PANEL) -->
  <div class="studioShell" id="studioRoot">

    <!-- SOL MENÃœ -->
    <aside class="studioNav" id="leftMenu">

      <!-- ğŸ”¼ SCROLL EDEN ALAN -->
      <div class="navScroll">

        <div class="navCard">
          <div class="navTitle">AI Ãœret</div>

          <button class="navBtn" data-route="music" data-music-tab="geleneksel">
            <span class="navDot"></span> AI MÃ¼zik (Geleneksel)
          </button>

          <button class="navBtn" data-route="music" data-music-tab="ses-kaydi">
            <span class="navDot"></span> AI Ses KaydÄ±
          </button>

          <button class="navBtn" data-route="video">
            <span class="navDot"></span> AI Video Ãœret
          </button>

          <button class="navBtn" data-route="atmo">
            <span class="navDot"></span> AI Atmosfer Video
          </button>

          <button class="navBtn" data-route="cover">
            <span class="navDot"></span> AI Kapak Ãœret
          </button>

          <button class="navBtn" data-route="social">
            <span class="navDot"></span> AI Sosyal Medya Paketi
          </button>

          <button class="navBtn" data-route="hook">
            <span class="navDot"></span> AI Viral Hook Generator
          </button>
        </div>

        <div class="navCard">
          <div class="navTitle">Paneller</div>

          <button class="navBtn ghost" data-route="dashboard">Dashboard</button>
          <button class="navBtn ghost" data-route="library">Ãœrettiklerim</button>

          <a class="navBtn ghost" href="/fiyatlandirma.html#packs"
             style="display:block;text-decoration:none;">
            Kredi SatÄ±n Al
          </a>

          <button class="navBtn ghost" data-route="invoices">FaturalarÄ±m</button>
          <button class="navBtn ghost" data-route="profile">Profil</button>
          <button class="navBtn ghost" data-route="settings">Ayarlar</button>

          <button class="navBtn ghost danger" data-logout>Ã‡Ä±kÄ±ÅŸ Yap</button>
        </div>

      </div>
      <!-- ğŸ”¼ /SCROLL EDEN ALAN -->

      <!-- ğŸ”½ SABÄ°T ALT ALAN -->
      <div class="navInfo" id="navInfo">
        <div class="navInfoTitle">Ä°puÃ§larÄ±</div>
        <div class="navInfoBody">Soldan bir modÃ¼l seÃ§.</div>
      </div>

    </aside>

    <!-- ORTA ALAN: 2 PANEL YAN YANA -->
    <main class="studioMain" id="mainWorkspace">


      <div class="studioTwoPanel" id="twoPanelWrap">

        <section id="moduleHost" class="glassCard studioMotor">
          <div class="placeholder">
            <div class="ph-title">HenÃ¼z modÃ¼l yÃ¼klenmedi</div>
            <div class="ph-sub">Soldan bir modÃ¼l seÃ§.</div>
          </div>
        </section>

        <section class="outputsCard studioOutputs">
          <div class="outputsHeader">
            <div class="outputsHeaderTitle">Ãœretilenler</div>
            <div class="outputsHeaderMeta" id="outputsMeta">HazÄ±r</div>
          </div>

          <div id="rightPanelHost"></div>

          <div class="panelFooter">
            <div class="miniHint">
              Output aksiyonlarÄ± / player burada sabit kalabilir.
            </div>
          </div>
        </section>

      </div>
    </main>

  </div>

  <script src="/include.partials.js?v=1" defer></script>
  <script src="/panel.manager.js?v=1" defer></script>
  <script src="/panel.music.js?v=1" defer></script>
  <script src="/panel.video.js?v=1" defer></script>
  <script src="/panel.atmos.js?v=1" defer></script>
  <script src="/panel.cover.js?v=1" defer></script>
  <script src="/panel.social.js?v=1" defer></script>
  <script src="/panel.hook.js?v=1" defer></script>
  <script src="/studio.router.js?v=1" defer></script>
  <script src="/studio.v2.boot.js?v=1" defer></script>

</body>
</html>
